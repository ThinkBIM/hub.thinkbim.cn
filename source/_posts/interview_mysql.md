---
title: MySQL数据库高频面试题
date: 2023-02-23 09:47:05
description: 
keywords: MySQL面试题|索引
tags:
  - MySQL
categories:
  - 面试题
top_img:
cover:
---
  
# 如何实现索引机制？
按照索引分类：B+树 Hash索引 全文索引

# InnoDB和MyISAM 索引实现的区别？
InnoDB 表结构、数据和索引是一个文件 `.idb`
使用B+树实现，叶子节点保存的是每行数据
聚簇索引
MyISAM 表结构、数据和索引文件分开存放的 `.sdi` `.MYD` `.MYI`
索引文件只保存所在叶节点的指针，通过指针来读取行中的数据
非聚簇索引，进行回表进而查出指针对应的数据

如果表中没有创建索引，和主键I，系统回默认创建 ROW_ID 索引列

B树和B+树
B树 每个节点存储的是数据
B+树 存储的是数据key 而数据只在最叶子节点才存储的数据

# B+树的实现原理
record_type 记录类型
0 普通记录 1B+树非叶子节点记录 2最小记录 3最大记录
next_record 下一条记录位置


# 聚簇索引和非聚簇索引优缺点
聚簇索引
优点：
排序和范围查找非常快，由于数据都是紧密相连的，可以从更少的数据块中提取数据，节省大量IO操作
缺点：
插入数据严重依赖插入顺序，按照主键方式插入最快，否则会出现页分裂，严重影响性能
更新主键代价高，会导致被更新的行移动

限制
InnoDB支持聚簇索引   MyISAM不支持聚簇索引
一个表中只能有一个聚簇索引
如果没有定义主键，非空的唯一索引来创建一个隐式的ROW_ID作为聚簇索引

非聚簇索引
在叶子节点中存储的只是一个ID，每页中按照创建的索引列来进行排序















